## 4장 불변 활용하기: 안정적으로 동작하게 만들기

> 가변과 불변을 적절하게 설계하지 못하면 동작을 예측하기 어렵고 혼란스러워져 악마들이 나타납니다.

<br>

### 불변

재할당은 변수의 의미를 바꿔 추측하기 어렵게 만들고, 언제 어떻게 변경되었는지 추척하기 힘들게 합니다.

> 변수 하나를 재활용하지 않고, 계속해서 새로운 변수를 만들어 사용하면 재할당을 피할 수 있습니다.

변수에 **final** 수식자를 붙여 재할당을 기계적으로 막을 수 있습니다.

<br>

### 부수효과

함수의 부수 효과는 `함수가 매개변수를 전달받고, 값을 리턴하는 것` 이외에 외부 상태(인스턴스 변수 등)를 변경하는 것을 가리킵니다.

> 주요작용 : 함수가 매개변수를 전달받고, 값을 리턴하는 것
> 부수효과 : 주요 작용 이외의 상태 변경을 일으키는 것


#### 함수의 영향 범위 한정하기

1. 데이터(상태)는 매개변수로 받습니다.
2. 상태를 변경하지 않습니다.
3. 값은 함수의 리턴 값으로 돌려줍니다.

<br>

### 불변의 장점

1. 변수의 의미가 변하지 않으므로, 혼란을 줄일 수 있음
2. 동작이 안정적이게 되므로, 결과를 예측하기 쉬움
3. 코드의 영향 범위가 한정적이므로, 유지 보수가 편리해짐

<br>

## 5장 응집도: 흩어져 있는 것들

> 응집도란 모듈 내부에 있는 데이터와 로직 사이의 관계가 얼마나 강한지 나타내는 지표

<br>

`인스턴스 변수`와 `인스턴스 변수를 사용하는 로직`을 같은 클래스에 만드는 것이 응집도를 높이는 방법입니다.

매개변수가 많으면 데이터 하나하나를 매개변수로 다루지 말고, 그 데이터를 인스턴스 변수로 갖는 클래스를 만들고 활용하는 설계로 변경해 보세요.

데메테르의 법칙: 사용하는 객체 내부를 알아서는 안된다 -> 메서드 체인으로 내부 구조를 돌아다닐 수 있는 설꼐는 데메테르의 법칙을 위반한다고 할 수 있다.


