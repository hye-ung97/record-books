## 4장 타입 설계

> 타입 시스템의 큰 장점 중 하나는 데이터 타입을 명확히 알 수 있어 코드를 이해하기 쉽다는 것입니다.

<br>

### 유효한 상태만 표현하는 타입을 지향하기

타입을 설계할 때는 어떤 값들을 포함하고 어떤 값들을 제회할지 신중하게 생각해야 합니다.

유효한 상태를 표현하는 값만 허용한다면 코드를 작성하기 쉬워지고 타입 체크가 용이해집니다.

<br>

### 사용할 때는 너그럽게, 생성할 때는 엄격하게

함수의 매개변수는 타입의 범위가 넓어도 되지만, 결과를 반환할 때는 일반적으로 타입의 범위가 더 구체적이어야 합니다.

> 보통 매개변수 타입은 반환 타입에 비해 범위가 넓은 경향이 있습니다. 선택적 속성과 유니온 타입은 반환 타입보다 매개변수 타입에 더 일반적입니다.

<br>

### string 타입보다 더 구체적인 타입 사용하기

string 타입이 남용된 코드를 `문자열을 남발하여 선언되었다`고 표현하기도 합니다.

타입을 명시적으로 정의함으로써 다른 곳으로 값이 전달되어도 타입 정보가 유지됩니다.

타입을 명시적으로 정의하고 해당 타입의 의미를 설명하는 주석을 붙여 넣을 수 있습니다.

keyof 연산자로 더욱 세밀하게 객체의 속성 체크가 가능해집니다.

> 객체의 속성 이름을 함수 매개변수로 받을 때는 string 보다 keyof T 를 사용하는 것이 좋습니다.

<br>

### 데이터가 아닌, API와 명세로 보고 타입 만들기

명세를 참고해 타입을 생성하면 타입스크립트는 사용자가 실수를 줄일 수 잇게 도와줍니다. 반면에 예시 데이터를 참고해 타입을 생성하면 눈앞에 있는 데이터들만 고려하게 되므로 예기치 않은 곳에서 오류가 발생할 수 있습니다.

<br>

### 해당 분야의 용어로 타입 이름 짓기

엄선된 타입, 속성, 변수의 이름은 의도를 명확히 하고 코드와 타입의 추상화 수준을 높여 줍니다.

코드로 표현하고자 하는 모든 분야에는 주제를 설명하기 위한 전문 용어들이 있습니다. 자체적으로 용어를 만들어 내려고 하지 말고, 해당 분야에 이미 존재하는 용어를 사용해야 합니다.

> 가독성을 높이고, 추상화 수준을 올리기 위해서 해당 분야의 용어를 사용해야 합니다.

<br>

### 공식 명칭에는 상표를 붙이기

공식 명칭을 사용하는 것은 타입이 아니라 값의 관점으로 보는 것입니다.

상표 기법은 타입 시스템에서 동작하지만 런타임에 상표를 검사하는 것과 동일한 효과를 얻을 수 있습니다.

런타임에는 절대 경로로 시작하는지 체크하기 쉽지만, 타입 시스템에서는 절대 경로를 판단하기 어렵기 때문에 상표 기법을 사용합니다.
